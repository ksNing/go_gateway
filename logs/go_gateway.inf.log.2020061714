[INFO][2020-06-17T14:30:02.240][log.go:58] _com_request_in||args=map[]||body=||from=127.0.0.1||traceid=c0a800655ee9b86aeb6042e2104dc7b0||spanid=9e41b80f380704bb||uri=/service/service_delete?id=1||method=GET||cspanid=
[INFO][2020-06-17T14:30:02.240][log.go:58] _com_request_out||uri=/service/service_delete?id=1||method=GET||args=map[]||from=127.0.0.1||response={\"errno\":3,\"errmsg\":\"user not login\",\"data\":\"\",\"trace_id\":\"c0a800655ee9b86aeb6042e2104dc7b0\",\"stack\":\"user not login\"}||proc_time=0.000309935||traceid=c0a800655ee9b86aeb6042e2104dc7b0||cspanid=||spanid=9e41b80f380704bb
[INFO][2020-06-17T14:35:11.240][log.go:58] _com_request_in||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"string\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"string\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||traceid=c0a800655ee9b99f9ac842e25a8581b0||cspanid=||spanid=9e41b9fa57e9d186||uri=/service/service_add_http||args=map[]||from=::1
[INFO][2020-06-17T14:35:11.240][log.go:58] _com_request_out||cspanid=||uri=/service/service_add_http||from=::1||proc_time=0.003239862||traceid=c0a800655ee9b99f9ac842e25a8581b0||method=POST||args=map[]||response={\"errno\":3,\"errmsg\":\"user not login\",\"data\":\"\",\"trace_id\":\"c0a800655ee9b99f9ac842e25a8581b0\",\"stack\":\"user not login\"}||spanid=9e41b9fa57e9d186
[INFO][2020-06-17T14:35:37.129][log.go:58] _com_request_in||args=map[]||body={\n\t\"userName\":\"admin\",\n\t\"password\":\"123456\"\n}||from=::1||traceid=c0a800655ee9b9b9861842e266cb39b0||cspanid=||uri=/admin_login/login||method=POST||spanid=9e41b9dc1408d2ac
[INFO][2020-06-17T14:35:37.129][log.go:58] _com_mysql_success||cspanid=||spanid=9e41b9dc1408d2ac||source=/Users/apple/go/src/github.com/go_gateway/dao/admin.go:40||current_time=2020-06-17 14:35:37||proc_time=0.000000000||sql=SELECT * FROM `gateway_admin`  WHERE (`gateway_admin`.`user_name` = 'admin')||affected_row=1||level=sql||traceid=c0a800655ee9b9b9861842e266cb39b0
[INFO][2020-06-17T14:35:37.129][log.go:58] _com_request_out||cspanid=||traceid=c0a800655ee9b9b9861842e266cb39b0||args=map[]||from=::1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"token\":\"admin\"},\"trace_id\":\"c0a800655ee9b9b9861842e266cb39b0\",\"stack\":null}||proc_time=0.015113939||spanid=9e41b9dc1408d2ac||uri=/admin_login/login||method=POST
[INFO][2020-06-17T14:35:44.060][log.go:58] _com_request_in||spanid=9e41b9a568255aaf||from=::1||cspanid=||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"string\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"string\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||traceid=c0a800655ee9b9c05e3042e2f27cc6b0||uri=/service/service_add_http||method=POST||args=map[]
[INFO][2020-06-17T14:35:44.060][log.go:58] _com_request_out||uri=/service/service_add_http||proc_time=0.001034531||cspanid=||spanid=9e41b9a568255aaf||method=POST||args=map[]||from=::1||response=<nil>||traceid=c0a800655ee9b9c05e3042e2f27cc6b0
[INFO][2020-06-17T14:35:44.060][log.go:58] _com_panic||error=Undefined validation function 'valid_service_name' on field 'ServiceName'||stack=goroutine 84 [running]:\nruntime/debug.Stack(0x17f0400, 0xc0003a4ca0, 0x18ef561)\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x9d\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1.1(0xc0003ee0b0)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/recovery.go:21 +0x213\npanic(0x17c1b60, 0xc0004a92f0)\n\t/usr/local/go/src/runtime/panic.go:679 +0x1b2\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).parseFieldTagsRecursive(0xc000226060, 0x1826ac7, 0x1b, 0x1826a69, 0xb, 0x1826ad0, 0x0, 0x0, 0x0, 0xc000237d00)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:304 +0xfc2\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).extractStructCache(0xc000226060, 0x18d5fe0, 0xc00041a000, 0x199, 0x177a79f, 0x13, 0x0)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:156 +0x439\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*validate).validateStruct(0xc000292a20, 0x1a2b640, 0xc0000a4000, 0x17f5f40, 0xc00041a000, 0x16, 0x18d5fe0, 0xc00041a000, 0x199, 0x1a3f140, ...)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator.go:37 +0x9cc\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).StructCtx(0xc000226060, 0x1a2b640, 0xc0000a4000, 0x17f5f40, 0xc00041a000, 0xf0, 0xc00041a000)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:289 +0x35f\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).Struct(...)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:262\ngithub.com/go_gateway/public.DefaultGetValidParams(0xc0003ee0b0, 0x17f5f40, 0xc00041a000, 0x10044ba, 0x1a410a0)\n\t/Users/apple/go/src/github.com/go_gateway/public/params.go:25 +0x117\ngithub.com/go_gateway/dto.(*ServiceAddHTTPInput).BindValidParam(...)\n\t/Users/apple/go/src/github.com/go_gateway/dto/service.go:56\ngithub.com/go_gateway/controller.(*ServiceController).ServiceAddHttp(0x285d000, 0xc0003ee0b0)\n\t/Users/apple/go/src/github.com/go_gateway/controller/service.go:160 +0x6e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.TranslationMiddleware.func1(0xc0003ee0b0)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/translation.go:64 +0x34e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.SessionAuthMiddleware.func1(0xc0003ee0b0)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/session_auth.go:18 +0x144\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RequestLog.func1(0xc0003ee0b0)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/request_log.go:59 +0x69\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1(0xc0003ee0b0)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/recovery.go:33 +0x5b\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1d1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x64\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc0003ee0b0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5b2\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, 0x1a28700, 0xc00022a1c0, 0xc000278200)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x134\nnet/http.serverHandler.ServeHTTP(0xc0002a8000, 0x1a28700, 0xc00022a1c0, 0xc000278200)\n\t/usr/local/go/src/net/http/server.go:2802 +0xa4\nnet/http.(*conn).serve(0xc0000bf0e0, 0x1a2b600, 0xc000086400)\n\t/usr/local/go/src/net/http/server.go:1890 +0x875\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:2927 +0x38e\n||traceid=c0a800655ee9b9c05e3042e2f27cc6b0||cspanid=||spanid=9e41b9a568255aaf
[INFO][2020-06-17T14:37:57.507][log.go:58] _com_request_in||method=POST||args=map[]||from=::1||traceid=c0a800655ee9ba451a8842e26cffa2b0||cspanid=||uri=/service/service_add_http||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"string\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"string\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||spanid=9e41ba2030b95ff1
[INFO][2020-06-17T14:37:57.507][log.go:58] _com_request_out||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||response=<nil>||proc_time=0.000684886||from=::1||traceid=c0a800655ee9ba451a8842e26cffa2b0||spanid=9e41ba2030b95ff1
[INFO][2020-06-17T14:37:57.507][log.go:58] _com_panic||traceid=c0a800655ee9ba451a8842e26cffa2b0||cspanid=||spanid=9e41ba2030b95ff1||error=Undefined validation function 'valid_service_name' on field 'ServiceName'||stack=goroutine 88 [running]:\nruntime/debug.Stack(0x17f0400, 0xc0003a4ca0, 0x18ef561)\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x9d\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1.1(0xc0003ee160)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/recovery.go:21 +0x213\npanic(0x17c1b60, 0xc0004340d0)\n\t/usr/local/go/src/runtime/panic.go:679 +0x1b2\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).parseFieldTagsRecursive(0xc000227260, 0x1826ac7, 0x1b, 0x1826a69, 0xb, 0x1826ad0, 0x0, 0x0, 0x0, 0xc0003c5db8)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:304 +0xfc2\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).extractStructCache(0xc000227260, 0x18d5fe0, 0xc0002f0690, 0x199, 0x177a79f, 0x13, 0x0)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:156 +0x439\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*validate).validateStruct(0xc000292ea0, 0x1a2b640, 0xc0000a4000, 0x17f5f40, 0xc0002f0690, 0x16, 0x18d5fe0, 0xc0002f0690, 0x199, 0x1a3f140, ...)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator.go:37 +0x9cc\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).StructCtx(0xc000227260, 0x1a2b640, 0xc0000a4000, 0x17f5f40, 0xc0002f0690, 0xf0, 0xc0002f0690)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:289 +0x35f\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).Struct(...)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:262\ngithub.com/go_gateway/public.DefaultGetValidParams(0xc0003ee160, 0x17f5f40, 0xc0002f0690, 0x10044ba, 0x1a410a0)\n\t/Users/apple/go/src/github.com/go_gateway/public/params.go:25 +0x117\ngithub.com/go_gateway/dto.(*ServiceAddHTTPInput).BindValidParam(...)\n\t/Users/apple/go/src/github.com/go_gateway/dto/service.go:56\ngithub.com/go_gateway/controller.(*ServiceController).ServiceAddHttp(0x285d000, 0xc0003ee160)\n\t/Users/apple/go/src/github.com/go_gateway/controller/service.go:160 +0x6e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.TranslationMiddleware.func1(0xc0003ee160)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/translation.go:64 +0x34e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.SessionAuthMiddleware.func1(0xc0003ee160)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/session_auth.go:18 +0x144\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RequestLog.func1(0xc0003ee160)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/request_log.go:59 +0x69\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1(0xc0003ee160)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/recovery.go:33 +0x5b\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1d1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x64\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc0003ee160)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5b2\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, 0x1a28700, 0xc00022a0e0, 0xc000278300)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x134\nnet/http.serverHandler.ServeHTTP(0xc0002a8000, 0x1a28700, 0xc00022a0e0, 0xc000278300)\n\t/usr/local/go/src/net/http/server.go:2802 +0xa4\nnet/http.(*conn).serve(0xc0000ea280, 0x1a2b600, 0xc000086380)\n\t/usr/local/go/src/net/http/server.go:1890 +0x875\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:2927 +0x38e\n
[INFO][2020-06-17T14:38:22.084][log.go:58] _com_request_in||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"string\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"string\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"service_name_tcp2\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||traceid=c0a800655ee9ba5ee90042e2b62158b0||from=::1||spanid=9e41ba3b3c04951a
[INFO][2020-06-17T14:38:22.084][log.go:58] _com_request_out||args=map[]||from=::1||proc_time=0.000827307||traceid=c0a800655ee9ba5ee90042e2b62158b0||method=POST||response=<nil>||cspanid=||spanid=9e41ba3b3c04951a||uri=/service/service_add_http
[INFO][2020-06-17T14:38:22.084][log.go:58] _com_panic||cspanid=||spanid=9e41ba3b3c04951a||error=Undefined validation function 'valid_service_name' on field 'ServiceName'||stack=goroutine 72 [running]:\nruntime/debug.Stack(0x17f0400, 0xc0003a4ca0, 0x18ef561)\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x9d\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1.1(0xc00018cbb0)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/recovery.go:21 +0x213\npanic(0x17c1b60, 0xc0005ab030)\n\t/usr/local/go/src/runtime/panic.go:679 +0x1b2\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).parseFieldTagsRecursive(0xc00014a180, 0x1826ac7, 0x1b, 0x1826a69, 0xb, 0x1826ad0, 0x0, 0x0, 0x0, 0xc0003872e8)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:304 +0xfc2\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).extractStructCache(0xc00014a180, 0x18d5fe0, 0xc0003a8000, 0x199, 0x177a79f, 0x13, 0x0)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:156 +0x439\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*validate).validateStruct(0xc000400ea0, 0x1a2b640, 0xc0000a4000, 0x17f5f40, 0xc0003a8000, 0x16, 0x18d5fe0, 0xc0003a8000, 0x199, 0x1a3f140, ...)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator.go:37 +0x9cc\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).StructCtx(0xc00014a180, 0x1a2b640, 0xc0000a4000, 0x17f5f40, 0xc0003a8000, 0xf0, 0xc0003a8000)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:289 +0x35f\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).Struct(...)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:262\ngithub.com/go_gateway/public.DefaultGetValidParams(0xc00018cbb0, 0x17f5f40, 0xc0003a8000, 0x10044ba, 0x1a410a0)\n\t/Users/apple/go/src/github.com/go_gateway/public/params.go:25 +0x117\ngithub.com/go_gateway/dto.(*ServiceAddHTTPInput).BindValidParam(...)\n\t/Users/apple/go/src/github.com/go_gateway/dto/service.go:56\ngithub.com/go_gateway/controller.(*ServiceController).ServiceAddHttp(0x285d000, 0xc00018cbb0)\n\t/Users/apple/go/src/github.com/go_gateway/controller/service.go:160 +0x6e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.TranslationMiddleware.func1(0xc00018cbb0)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/translation.go:64 +0x34e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.SessionAuthMiddleware.func1(0xc00018cbb0)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/session_auth.go:18 +0x144\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RequestLog.func1(0xc00018cbb0)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/request_log.go:59 +0x69\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1(0xc00018cbb0)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/recovery.go:33 +0x5b\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1d1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x64\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc00018cbb0)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5b2\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, 0x1a28700, 0xc0002a80e0, 0xc000174100)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x134\nnet/http.serverHandler.ServeHTTP(0xc0002a8000, 0x1a28700, 0xc0002a80e0, 0xc000174100)\n\t/usr/local/go/src/net/http/server.go:2802 +0xa4\nnet/http.(*conn).serve(0xc0000bee60, 0x1a2b600, 0xc0004bc1c0)\n\t/usr/local/go/src/net/http/server.go:1890 +0x875\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:2927 +0x38e\n||traceid=c0a800655ee9ba5ee90042e2b62158b0
[INFO][2020-06-17T14:39:24.408][log.go:58] _com_request_in||method=POST||args=map[]||traceid=c0a800655ee9ba9ceca042e23a768bb0||cspanid=||uri=/service/service_add_http||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"string\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"string\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_grpc\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||from=::1||spanid=9e41baf925845c95
[INFO][2020-06-17T14:39:24.408][log.go:58] _com_request_out||args=map[]||from=::1||response=<nil>||proc_time=0.001136703||cspanid=||spanid=9e41baf925845c95||uri=/service/service_add_http||method=POST||traceid=c0a800655ee9ba9ceca042e23a768bb0
[INFO][2020-06-17T14:39:24.408][log.go:58] _com_panic||error=Undefined validation function 'valid_service_name' on field 'ServiceName'||stack=goroutine 90 [running]:\nruntime/debug.Stack(0x17f0400, 0xc0003a4ca0, 0x18ef561)\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x9d\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1.1(0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/recovery.go:21 +0x213\npanic(0x17c1b60, 0xc0004a9250)\n\t/usr/local/go/src/runtime/panic.go:679 +0x1b2\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).parseFieldTagsRecursive(0xc00014a120, 0x1826ac7, 0x1b, 0x1826a69, 0xb, 0x1826ad0, 0x0, 0x0, 0x0, 0xc000237ec0)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:304 +0xfc2\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).extractStructCache(0xc00014a120, 0x18d5fe0, 0xc0002f0690, 0x199, 0x177a79f, 0x13, 0x0)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:156 +0x439\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*validate).validateStruct(0xc0002927e0, 0x1a2b640, 0xc0000a4000, 0x17f5f40, 0xc0002f0690, 0x16, 0x18d5fe0, 0xc0002f0690, 0x199, 0x1a3f140, ...)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator.go:37 +0x9cc\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).StructCtx(0xc00014a120, 0x1a2b640, 0xc0000a4000, 0x17f5f40, 0xc0002f0690, 0xf0, 0xc0002f0690)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:289 +0x35f\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).Struct(...)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:262\ngithub.com/go_gateway/public.DefaultGetValidParams(0xc00018cc60, 0x17f5f40, 0xc0002f0690, 0x10044ba, 0x1a410a0)\n\t/Users/apple/go/src/github.com/go_gateway/public/params.go:25 +0x117\ngithub.com/go_gateway/dto.(*ServiceAddHTTPInput).BindValidParam(...)\n\t/Users/apple/go/src/github.com/go_gateway/dto/service.go:56\ngithub.com/go_gateway/controller.(*ServiceController).ServiceAddHttp(0x285d000, 0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/controller/service.go:160 +0x6e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.TranslationMiddleware.func1(0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/translation.go:64 +0x34e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.SessionAuthMiddleware.func1(0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/session_auth.go:18 +0x144\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RequestLog.func1(0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/request_log.go:59 +0x69\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1(0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/recovery.go:33 +0x5b\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1d1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x64\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5b2\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, 0x1a28700, 0xc0002a81c0, 0xc000278100)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x134\nnet/http.serverHandler.ServeHTTP(0xc0002a8000, 0x1a28700, 0xc0002a81c0, 0xc000278100)\n\t/usr/local/go/src/net/http/server.go:2802 +0xa4\nnet/http.(*conn).serve(0xc0000ea000, 0x1a2b600, 0xc0004bc0c0)\n\t/usr/local/go/src/net/http/server.go:1890 +0x875\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:2927 +0x38e\n||traceid=c0a800655ee9ba9ceca042e23a768bb0||cspanid=||spanid=9e41baf925845c95
[INFO][2020-06-17T14:41:04.646][log.go:58] _com_request_in||traceid=c0a800655ee9bb005c6042e2ec3f25b0||spanid=9e41bb651bf98be2||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"string\",\n  \"ip_list\": \"string\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"string\",\n  \"rule_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_list\": \"string\"\n}||from=::1||cspanid=||uri=/service/service_add_http||args=map[]
[INFO][2020-06-17T14:41:04.646][log.go:58] _com_request_out||args=map[]||response=<nil>||cspanid=||spanid=9e41bb651bf98be2||uri=/service/service_add_http||method=POST||from=::1||proc_time=0.002154912||traceid=c0a800655ee9bb005c6042e2ec3f25b0
[INFO][2020-06-17T14:41:04.646][log.go:58] _com_panic||traceid=c0a800655ee9bb005c6042e2ec3f25b0||cspanid=||spanid=9e41bb651bf98be2||error=Undefined validation function 'valid_service_name' on field 'ServiceName'||stack=goroutine 75 [running]:\nruntime/debug.Stack(0x17f0400, 0xc0003a4ca0, 0x18ef561)\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x9d\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1.1(0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/recovery.go:21 +0x213\npanic(0x17c1b60, 0xc00038d9d0)\n\t/usr/local/go/src/runtime/panic.go:679 +0x1b2\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).parseFieldTagsRecursive(0xc0000b6840, 0x1826ac7, 0x1b, 0x1826a69, 0xb, 0x1826ad0, 0x0, 0x0, 0x0, 0xc000387128)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:304 +0xfc2\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).extractStructCache(0xc0000b6840, 0x18d5fe0, 0xc0002f0690, 0x199, 0x177a79f, 0x13, 0x0)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:156 +0x439\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*validate).validateStruct(0xc000400a20, 0x1a2b640, 0xc0000a4000, 0x17f5f40, 0xc0002f0690, 0x16, 0x18d5fe0, 0xc0002f0690, 0x199, 0x1a3f140, ...)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator.go:37 +0x9cc\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).StructCtx(0xc0000b6840, 0x1a2b640, 0xc0000a4000, 0x17f5f40, 0xc0002f0690, 0xf0, 0xc0002f0690)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:289 +0x35f\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).Struct(...)\n\t/Users/apple/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:262\ngithub.com/go_gateway/public.DefaultGetValidParams(0xc00018cc60, 0x17f5f40, 0xc0002f0690, 0x10044ba, 0x1a410a0)\n\t/Users/apple/go/src/github.com/go_gateway/public/params.go:25 +0x117\ngithub.com/go_gateway/dto.(*ServiceAddHTTPInput).BindValidParam(...)\n\t/Users/apple/go/src/github.com/go_gateway/dto/service.go:56\ngithub.com/go_gateway/controller.(*ServiceController).ServiceAddHttp(0x285d000, 0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/controller/service.go:160 +0x6e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.TranslationMiddleware.func1(0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/translation.go:64 +0x34e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.SessionAuthMiddleware.func1(0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/session_auth.go:18 +0x144\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RequestLog.func1(0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/request_log.go:59 +0x69\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/go_gateway/middleware.RecoveryMiddleware.func1(0xc00018cc60)\n\t/Users/apple/go/src/github.com/go_gateway/middleware/recovery.go:33 +0x5b\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1d1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x64\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000d0140, 0xc00018cc60)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5b2\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000d0140, 0x1a28700, 0xc0002a80e0, 0xc000278200)\n\t/Users/apple/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x134\nnet/http.serverHandler.ServeHTTP(0xc0002a8000, 0x1a28700, 0xc0002a80e0, 0xc000278200)\n\t/usr/local/go/src/net/http/server.go:2802 +0xa4\nnet/http.(*conn).serve(0xc0000f21e0, 0x1a2b600, 0xc0000860c0)\n\t/usr/local/go/src/net/http/server.go:1890 +0x875\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:2927 +0x38e\n
